{"version":3,"sources":["main.js"],"names":["formReset","value","$progressBar","val","$","not","removeClass","addClass","$animContainer","css","paddingBottom","height","console","warn","setupClickHandlers","on","event","preventDefault","showNextForm","this","parents","$currentForm","currentFormStep","parseInt","attr","$nextForm","log","$body","animate","scrollTop","offset","top","setTimeout","one","transitionEnd","find","next","html","setupFloatLabels","tagName","className","init","validate","rules","name","required","minlength","sum","min","messages","jQuery","validator","format","submitHandler","alert"],"mappings":"AAUA,QAAAA,aAcA,MAbAC,OAAA,EACAC,aAAAC,IAAAF,OACAG,EAAA,cAAAC,IAAA,UAAAF,IAAA,IAAAG,YAAA,YACAF,EAAA,iBAAAE,YAAA,gBACAF,EAAA,iBAAAC,IAAA,gCAAAE,SAAA,kBACAH,EAAA,gCAAAE,YAAA,UACAF,EAAA,4BAAAC,IAAA,QAAAC,YAAA,UAEAE,eAAAC,KACAC,cAAAN,EAAA,gCAAAO,SAAA,OAGAC,QAAAC,KAAA,gBACA,EAOA,QAAAC,sBAcA,MAXAV,GAAA,yBAAAW,GAAA,QAAA,SAAAC,GACAA,EAAAC,iBAEAC,aADAd,EAAAe,MAAAC,QAAA,oBAKAhB,EAAA,aAAAW,GAAA,QAAA,WACAf,eAGA,EAQA,QAAAkB,cAAAG,GACA,GAAAC,GAAAC,SAAAF,EAAAG,KAAA,gBAAA,EACAC,EAAArB,EAAA,6BAAAkB,EAAA,GAAA,KAmDA,OAjDAV,SAAAc,IAAA,mBAAAJ,GACAV,QAAAc,IAAA,sBAAAD,EAAAD,KAAA,cAEAG,MAAApB,SAAA,UAGAH,EAAA,cAAAwB,SACAC,UAAA3B,aAAA4B,SAAAC,KACA,QAGAV,EAAAd,SAAA,WACAyB,WAAA,WACAX,EAAAd,SAAA,WACA,KAGAC,eAAAC,KACAC,cAAAe,EAAAd,SAAA,OAIAc,EAAAnB,YAAA,UACAC,SAAA,UACA0B,IAAAC,cAAA,WACAT,EAAAnB,YAAA,oBAIAL,OAAA,MAGAA,OAAA,IACAD,aAEAI,EAAA,kBACA+B,KAAA,mCACAC,KAAA,4BACA7B,SAAA,UAGAL,aAAAC,IAAAF,QAIAG,EAAA,gCAAAiC,KAAAnC,aAAAC,MAAA,cAEAwB,MAAArB,YAAA,WAEA,EAOA,QAAAgC,oBA2BA,MAzBAlC,GAAA,cAAAC,IAAA,UAAAU,GAAA,OAAA,WAGA,OAAAI,KAAAoB,SACA,IAAA,SACApB,KAAAlB,MAAA,EACAkB,KAAAqB,UAAA,WAEArB,KAAAqB,UAAA,EAEA,MAEA,KAAA,QACA,KAAArB,KAAAlB,MACAkB,KAAAqB,UAAA,WAEArB,KAAAqB,UAAA,OASA,EAOA,QAAAC,QACAzC,YACAsC,mBACAxB,qBAtJA,GAAAa,OAAAvB,EAAA,QACAF,aAAAE,EAAA,YACAI,eAAAJ,EAAA,wBACAH,MAAA,EACAiC,cAAA,mCAqJAO,QAEArC,EAAA,SAAAsC,UACAC,OACAC,MACAC,UAAA,EACAC,UAAA,GAGAC,KACAF,UAAA,EACAG,IAAA,KAIAC,UACAF,KACAF,SAAA,sCACAC,UAAAI,OAAAC,UAAAC,OAAA,kCAEAR,MACAC,SAAA,sCACAG,IAAAE,OAAAC,UAAAC,OAAA,kDAGAC,cAAA,WACAC,MAAA","file":"main.js","sourcesContent":["var $body = $('body');\nvar $progressBar = $('progress');\nvar $animContainer = $('.animation-container');\nvar value = 0;\nvar transitionEnd = 'webkitTransitionEnd transitionend';\n\n/**\n * Resets the form back to the default state.\n * ==========================================\n */\nfunction formReset() {\n\tvalue = 0;\n\t$progressBar.val(value);\n\t$('form input').not('button').val('').removeClass('hasInput');\n\t$('.js-form-step').removeClass('left leaving');\n\t$('.js-form-step').not('.js-form-step[data-step=\"1\"]').addClass('hidden waiting');\n\t$('.js-form-step[data-step=\"1\"]').removeClass('hidden');\n\t$('.form-progress-indicator').not('.one').removeClass('active');\n\n\t$animContainer.css({\n\t\t'paddingBottom': $('.js-form-step[data-step=\"1\"]').height() + 'px'\n\t});\n\n\tconsole.warn('Form reset.');\n\treturn false;\n}\n\n/**\n * Sets up the click handlers on the form. Next/reset.\n * ===================================================\n */\nfunction setupClickHandlers() {\n\n\t// Show next form on continue click\n\t$('button[type=\"submit\"]').on('click', function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar $currentForm = $(this).parents('.js-form-step');\n\t\t\tshowNextForm($currentForm);\n\t});\n\n\t// Reset form on reset button click\n\t$('.js-reset').on('click', function() {\n\t\tformReset();\n\t});\n\n\treturn false;\n}\n\n/**\n * Shows the next form.\n * @param - Node - The current form.\n * ======================================\n */\nfunction showNextForm($currentForm) {\n\tvar currentFormStep = parseInt($currentForm.attr('data-step')) || false;\n\tvar $nextForm = $('.js-form-step[data-step=\"' + (currentFormStep + 1) + '\"]');\n\n\tconsole.log('Current step is ' + currentFormStep);\n\tconsole.log('The next form is # ' + $nextForm.attr('data-step'));\n\n\t$body.addClass('freeze');\n\n\t// Ensure top of form is in view\n\t$('html, body').animate({\n\t\tscrollTop : $progressBar.offset().top\n\t}, 'fast');\n\n\t// Hide current form fields\n\t$currentForm.addClass('leaving');\n\tsetTimeout(function() {\n\t\t$currentForm.addClass('hidden');\n\t}, 500);\n\n\t// Animate container to height of form\n\t$animContainer.css({\n\t\t'paddingBottom' : $nextForm.height() + 'px'\n\t});\n\n\t// Show next form fields\n\t$nextForm.removeClass('hidden')\n\t\t\t\t\t .addClass('coming')\n\t\t\t\t\t .one(transitionEnd, function() {\n\t\t\t\t\t\t $nextForm.removeClass('coming waiting');\n\t\t\t\t\t });\n\n\t// Increment value (based on 4 steps 0 - 100)\n\tvalue += 49.99;\n\n\t// Reset if we've reached the end\n\tif (value >= 100) {\n\t\tformReset();\n\t} else {\n\t\t$('.form-progress')\n\t\t\t.find('.form-progress-indicator.active')\n\t\t\t.next('.form-progress-indicator')\n\t\t\t.addClass('active');\n\n\t\t// Set progress bar to the next value\n\t\t$progressBar.val(value);\n\t}\n\n\t// Update hidden progress descriptor (for a11y)\n\t$('.js-form-progress-completion').html($progressBar.val() + '% complete');\n\n\t$body.removeClass('freeze');\n\n\treturn false;\n}\n\n/**\n * Sets up and handles the float labels on the inputs.\n =====================================================\n */\nfunction setupFloatLabels() {\n\t// Check the inputs to see if we should keep the label floating or not\n\t$('form input').not('button').on('blur', function() {\n\n\t\t// Different validation for different inputs\n\t\tswitch (this.tagName) {\n\t\t\tcase 'SELECT':\n\t\t\t\tif (this.value > 0) {\n\t\t\t\t\tthis.className = 'hasInput';\n\t\t\t\t} else {\n\t\t\t\t\tthis.className = '';\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'INPUT':\n\t\t\t\tif (this.value !== '') {\n\t\t\t\t\tthis.className = 'hasInput';\n\t\t\t\t} else {\n\t\t\t\t\tthis.className = '';\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn false;\n}\n\n/**\n * Gets the party started.\n * =======================\n */\nfunction init() {\n\tformReset();\n\tsetupFloatLabels();\n\tsetupClickHandlers();\n}\n\ninit();\n\n$(\"#Form\").validate({\n  rules: {\n    name: {\n\t  \trequired: true,\n      minlength: 5\n\t  },\n\n\t\tsum: {\n\t\t\trequired: true,\n\t\t\tmin: 10\n\t\t}\n\n    },\n  messages: {\n\t\tsum: {\n\t\t  required: \"Поле имя обязательно для заполнения\",\n\t\t  minlength: jQuery.validator.format(\"Сумма не может быть менее 10$\")\n\t\t},\n\t\tname: {\n\t\t  required: \"Поле имя обязательно для заполнения\",\n\t\t  min: jQuery.validator.format(\"Длина имени должна быть больше 5-ти символов\")\n\t\t}\n  },\n   submitHandler: function() {\n     alert(\"OK\");\n  }\n});\n"]}